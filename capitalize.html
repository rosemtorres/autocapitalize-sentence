<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Capitalize</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<textarea cols="100" rows="10" class="capitalize"></textarea>
<input type="text" class="capitalize">

<script>
	$(".capitalize").keyup(function() {
		capitalizeEverySentence(this);
	});

	function capitalizeEverySentence(obj) {
		inputValue = obj.value;
		var lastCharacter = obj.value.slice(-1);
		var last2ndCharacter = obj.value.slice(-2,-1);
		var sentenceSplit = [inputValue];
		var splitOptions = ['.', '?', '!'];
		var word = [inputValue];
		var newstring = word;

		if (lastCharacter === ' ') {
			if (splitOptions.indexOf(last2ndCharacter) !== -1) {
				sentenceSplit = inputValue.match(/.*?[?!.]/g);
				var f ,r;
				for (i = 0 ; i < sentenceSplit.length ; i ++ ) {
					sentenceTrimmed = sentenceSplit[i].trimStart();
					f = sentenceTrimmed.substring(0,1).toUpperCase();
					r = sentenceTrimmed.substring(1).toLowerCase();
					word[i] = f+r;
				}
				obj.value = word.join(" ") + " ";
			}
		}
	}
</script>
</body>
</html>